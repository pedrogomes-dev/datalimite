<!DOCTYPE html>
<html lang="pt-br">
  <head>
      <meta charset="UTF-8">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
      <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>  
      <title>Data Limite</title>
      <!-- Compiled and minified CSS -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" rel="stylesheet">
      <link href='https://fonts.googleapis.com/css?family=Mrs Saint Delafield' rel='stylesheet'>
      <link href='https://fonts.googleapis.com/css?family=Alex Brush' rel='stylesheet'>
      <link rel="stylesheet" href="extras.css">
  </head>
  <body>
      
    <div w3-include-html="html/header.html"></div>

    <main>
      <div class="container" id="page-container">
          <div id="content-wrap">
  
              <h2>Wedding Count</h2>
              <p style="text-align: justify; text-justify: inter-word;">De acordo com o contrato de namoro vigente, ficam estabelecidos que as partes interessadas (cordialmente denominadas de pombinhos) se casarão <strong>até</strong> o próximo dia seis de janeiro.</p>
              
              <div class="carousel carousel-slider center">
                <a class="carousel-item" href="#one!"><img src="media/1.jpg"></a>
                <a class="carousel-item" href="#two!"><img src="media/2.jpg"></a>
                <a class="carousel-item" href="#three!"><img src="media/3.jpg"></a>
                <a class="carousel-item" href="#four!"><img src="media/4.jpg"></a>
                <a class="carousel-item" href="#five!"><img src="media/5.jpg"></a>
                <a class="carousel-item" href="#six!"><img src="media/6.jpg"></a>
                <a class="carousel-item" href="#seven!"><img src="media/7.jpg"></a>
                <a class="carousel-item" href="#eight!"><img src="media/8.jpg"></a>
              </div>
              
              <div class="card-panel">
                  <div class="row">
                      <div class="col s6">06-11-2020</div>
                      <div class="col s6"> <span class="right">05-09-2021</span></div>
                  </div>
                  <div class="progress">
                      <div id="progress" class="progress-done" style="width: 70%">
                      
                      </div>
                  </div>
              </div>
              
              <div class="row" id="clockdiv">
                  <div class="col s3">
                    <span class="days"></span>
                    <div class="smalltext">Dias</div>
                  </div>
                  <div class="col s3">
                    <span class="hours"></span>
                    <div class="smalltext">Horas</div>
                  </div>
                  <div class="col s3">
                    <span class="minutes"></span>
                    <div class="smalltext">Minutos</div>
                  </div>
                  <div class="col s3">
                    <span class="seconds"></span>
                    <div class="smalltext">Segundos</div>
                  </div>
                </div>

                

          </div>
      </div>
  </main>    
    <div w3-include-html="html/footer.html" ></div>

    <!--JavaScript at end of body for optimized loading-->
    <!-- Compiled and minified JavaScript -->   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script type="text/javascript" src="extras.js"></script>
    <script type="text/javascript" src="clock.js"></script>
    <script>
        includeHTML();
    </script>
    <script>
        let pre = document.getElementById("progress");
        let initialTS = Date.parse('2020-11-06');
        let finalTS = Date.parse('2021-09-05');
        let atualTS = Date.parse(new Date());
        //let atualTS = Date.parse('2021-08-02');

        //let percent = atualTS/(finalTS-initialTS);
        let percent = (atualTS-initialTS)/(finalTS-initialTS);
        percent = percent*100;
        //alert(initialTS + '\n' + finalTS + '\n' + atualTS + '\n' + percent);
        pre.style["width"] = Math.floor(percent)+'%';
        pre.innerText = Math.floor(percent)+'%';
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
      // initialize carousel
      const carousel = document.querySelectorAll('.carousel');
      M.Carousel.init(carousel, {
        fullWidth: true,
        indicators: true, // this option is require for autoplay functionnality
      });
      
      // custom function for autoplaying 
      let indicatorItems = document.querySelectorAll('.carousel .indicator-item'),
          slideTime = 3000,
          activeClass = "active";

      setInterval(() => {
        indicatorItems.forEach(el => {
          if (el.classList.contains(activeClass)) {
            sib = el.nextElementSibling;
            if (sib == null) {
              indicatorItems[0].click();
            } else {
              sib.click()
            }
          }
        });
      }, slideTime);
    });
    </script>
  </body>  
</html>